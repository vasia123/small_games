import{_ as v}from"./nuxt-link.d31b60c2.js";import{_ as w}from"./TitleCard.vue.1933d09b.js";import{_ as k}from"./ModalError.vue.68c0c190.js";import{u as C}from"./useFirebaseDB.5baf7228.js";import{f as A,r as p,L as B,M as D,A as E,O as N,o as r,c as n,b as e,w as o,i as _,F as h,a as l,C as S,t as q,d as c}from"./entry.0534d1ea.js";import{u as F}from"./auth.af7fb95f.js";const L={key:0},M={class:"overflow-x-auto w-full"},V={class:"mb-1"},I={key:1},z=A({__name:"index",async setup(Q){let i,u;const y=F(),{gamesAndQuestionsCol:b}=C(),f=p(""),d=p([]);try{const s=B(b,D("userID","==",y.userId));([i,u]=E(()=>N(s)),i=await i,u(),i).forEach(t=>{const m=t.data();d.value.push({id:t.id,data:m})})}catch(s){s instanceof Error?f.value=s.message:console.error("Unexpected error",s)}return(s,g)=>{const t=v,m=w,x=k;return r(),n(h,null,[e(m,{title:"Список игр"},{default:o(()=>[_(d).length>0?(r(),n("div",L,[l("div",M,[l("div",null,[(r(!0),n(h,null,S(_(d),a=>(r(),n("div",{key:a.id,class:"my-2 p-2"},[l("div",V,q(a.data.name),1),e(t,{class:"btn btn-primary mr-2",to:"/admin/games/"+a.id+"/rounds"},{default:o(()=>[c("Туры")]),_:2},1032,["to"]),e(t,{class:"btn btn-accent mr-2",to:"/admin/games/"+a.id+"/edit"},{default:o(()=>[c("Редактировать")]),_:2},1032,["to"]),e(t,{class:"btn btn-error mr-2",to:"/admin/games/"+a.id+"/delete"},{default:o(()=>[c("Удалить")]),_:2},1032,["to"]),e(t,{class:"btn btn-secondary mr-2",to:"/admin/games/"+a.id+"/start"},{default:o(()=>[c("Запустить")]),_:2},1032,["to"])]))),128))])])])):(r(),n("div",I,"пока пусто")),e(t,{class:"btn btn-primary mt-8",to:"/admin/games/new"},{default:o(()=>[c("Добавить игру")]),_:1})]),_:1}),e(x,{message:_(f)},null,8,["message"])],64)}}});export{z as default};
